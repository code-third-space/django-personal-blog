<!DOCTYPE html>
<html>
<head>
{% extends 'bloggings/base.html' %}

{% block content %}
{% load static %}
<link type="text/css" rel="stylesheet" href="{% static 'cssBlogdisplay.css' %}">

</head>
<body>
<div class="container-fluid">
    <div class="row">
        <!-- 左侧部分: 分类-->
         <div class="col-md-3 p-0">
            <ul class="group" id="group-six" style="margin-left: 40px; margin-right: 20px;">
                <li class="list-group-item" style="background-color: #2f3338;color: white;">
                    <a href="{% url 'bloggings:blog_tech' %}">科技区</a>
                </li>
                <li class="list-group-item" style="background-color: #2f3338;color: white;">
                    <a href="{% url 'bloggings:blog_current' %}">实事区</a>
                </li>
                <li class="list-group-item" style="background-color: #2f3338;color: white;">
                    <a href="{% url 'bloggings:blog_finance' %}">财经区</a>
                </li>
                <li class="list-group-item" style="background-color: #2f3338;color: white;">
                    <a href="{% url 'bloggings:blog_read' %}">阅读区</a>
                </li>
                <li class="list-group-item" style="background-color: #2f3338;color: white;">
                    <a href="{% url 'bloggings:blog_scenery' %}">风景区</a>
                </li>
                <li class="list-group-item" style="background-color: #2f3338;color: white;">
                    <a href="{% url 'bloggings:blog_products' %}">商品区</a>
                </li>
            </ul>
        </div>
        <!-- 中间轮播部分 -->
        <div class="col-md-6 p-0">
            <div id="demo" class="carousel slide" data-ride="carousel">
                <div class="carousel-indicators">
                    {% for blog in blog_list %}
                    <button type="button" data-target="#demo"
                            data-slide-to="{{ forloop.counter0 }}"
                            class="{% if forloop.first %}active{% endif %}">
                    </button>
                    {% endfor %}
                </div>
                <div class="carousel-inner">
                {% if blog_list %}
                {% for blog in blog_list %}
                <div class="carousel-item {% if forloop.first%}active{% endif %}">
                    <img src="{{ blog.picture.url }}" alt="图片" class="d-block mx-auto img-fluid">
                    <div class="carousel-caption d-none d-md-block">
                        <h5>{{blog.blog_title}}</h5>
                    </div>
                </div>
                {% endfor %}
                {% else %}
                <p>没有知道博客</p>
                {% endif %}
                </div>
            <button class="carousel-control-prev" type="button" data-target="#demo" data-slide="prev">
                <span class="carousel-control-prev-icon"></span>
            </button>
            <button class="carousel-control-next" type="button" data-target="#demo" data-slide="next">
                <span class="carousel-control-next-icon"></span>
            </button>
            </div>
        </div>
        <!-- 待定区域 -->
         <div class="col-md-3 p-0">
            <ul class="group" id="group-six-next" style="margin-left: 20px; margin-right: 40px;">
                <li class="list-group-item" style="background-color: #2f3338;">{% if tech_blog %}
                    <a href="/blog_detail/{{ tech_blog.id }}" class="truncate" style="background-color: #2f3338; color: white;">
                        {{ tech_blog.blog_title}}</a>{% else %}无最新消息{% endif %}
                </li>
                <li class="list-group-item" style="background-color: #2f3338;">{% if current_blog %}
                    <a href="/blog_detail/{{ current_blog.id }}" class="truncate"style="background-color: #2f3338; color: white;">
                        {{ current_blog.blog_title }}</a>{% else %} 无最新消息 {% endif %}
                </li>
                <li class="list-group-item" style="background-color: #2f3338;">{% if finance_blog %}
                    <a href="/blog_detail/{{ finance_blog.id }}" class="truncate"style="background-color: #2f3338; color: white;">
                        {{ finance_blog.blog_title }}</a>{% else %} 无最新消息 {% endif %}
                </li>
                <li class="list-group-item" style="background-color: #2f3338;">{% if read_blog %}
                    <a href="/blog_detail/{{ read_blog.id }}" class="truncate"style="background-color: #2f3338; color: white;">
                        {{ read_blog.blog_title }}</a>{% else %} 无最新消息 {% endif %}
                </li>
                <li class="list-group-item" style="background-color: #2f3338;">{% if scenery_blog %}
                    <a href="/blog_detail/{{ scenery_blog.id }}" class="truncate"style="background-color: #2f3338; color: white;">
                        {{ scenery_blog.blog_title }}</a>{% else %} 无最新消息 {% endif %}
                </li>
                <li class="list-group-item" style="background-color: #2f3338;">{% if products_blog %}
                    <a href="/blog_detail/{{ products_blog.id }}" class="truncate"style="background-color: #2f3338; color: white;">
                        {{ products_blog.blog_title }}</a>{% else %} 无最新消息 {% endif %}
                </li>     
            </ul>
         </div>
    </div>
    <script>
        var carouselInterval; // 定义变量以存储定时器的 ID
    
        // 启动自动轮播
        function startCarousel() {
            carouselInterval = setInterval(function() {
                $('#demo').carousel('next'); // 切换到下一个幻灯片
            }, 3000); // 每 3 秒切换一次幻灯片
        }
    
        // 停止自动轮播
        function pauseCarousel() {
            clearInterval(carouselInterval);
        }
    
        // 鼠标悬停时显示特定图像
        function showImage(index) {
            $('#demo').carousel(index); // 激活指定索引的幻灯片
        }
    
        // 鼠标移开时恢复自动轮播
        function resumeCarousel() {
            startCarousel();
        }
    
        // 页面加载时启动自动轮播
        $(document).ready(function() {
            startCarousel();
        });
    </script>
</div>

<div class="mt-3" id="content" style="margin: 0px 40px;padding: 0; width: 96%;">
    <h2 class="alert alert-primary text-center" style="border-radius: 10px;">总览</h2>
    <div class="row">
        <div class="col-md-6">
        <table class="table table-striped table-hover radius-1">
        <thead>
            <tr class="table-primary">
                <td>标题</td>
                <td>地点</td>
                <td>类型</td>
            </tr>
        </thead>
        <tbody>
        {% if blog_list %}
            {% for blog in blog_list %}
            <tr>
                <td class="text-left"
                    onmouseover="showImage('image-{{ blog.id }}')"
                    onmouseout="hideImage('image-{{ blog.id }}')">
                    <a href="/blog_detail/{{blog.id}}/" class="text-decoration-none">
                        {{blog.blog_title}}
                    </a>
                </td>
                <td class="text-warning text-center">{{ blog.city_name }}</td>
                <td class="text-success text-right">{{ blog.type_name}}</td>
            </tr>
            {% endfor %}
        {% else %}
            <tr>
                <td colspan=""> 没有可用的博客</td>
            </tr>
        {% endif %}
        </tbody>
        </table>   
        </div>
        <div class="col-md-6">
            <table class="table table-hover radius-1">
                <thead>
                    <tr class="table-primary">
                    <td>图像</td>
                    </tr>
                </thead>
                <tbody>
                {% if blog_list %}
                {% for blog in blog_list %}
                    <tr style="height: 0; display: table-row;">
                    <td style="padding: 0; border: none;">
                    {% if blog.picture %}
                    <img id="image-{{ blog.id }}" src="{{ blog.picture.url }}" alt="图片展示" 
                    style="max-width: 960px; height: 390px; display: none; border-radius: 100px;">
                    {% endif %}
                    </td>
                    </tr>
                {% endfor %}
                {% endif %}
                </tbody>
            </table>
        </div>
    <script>
        function showImage(imageId) {
            var img = document.getElementById(imageId);
            if (img) {
                img.style.display = 'block';
            }
        }
        
        function hideImage(imageId) {
            var img = document.getElementById(imageId);
            if (img) {
                img.style.display = 'none';
            }
        }
    </script>
    </div>
</div>

<div id="content-two" style="width: 96%;margin: 0px 40px;padding: 0;">
    <h2 class="alert alert-primary text-center" style="border-radius: 10px;">分类区</h2>
    <div class="row">
        <div class="col-md-6">
        <h3 class="bg-info text-center" style="border-radius: 10px;">技术 Blogs</h3>
            <table class="table table-striped table-hover radius-1">
                <thead>
                    <tr class="table-primary">
                        <td>标题</td>
                        <td>位置</td>
                        <td class="text-center">国家</td>
                    </tr>
                </thead>
                <tbody>
                {% if type_a_blogs %}
                    {% for blog in type_a_blogs  %}
                <tr>
                    <td class="text-info">
                    <a href="/blog_detail/{{blog.id}}" class="text-decoration-none truncate-6">
                        {{blog.blog_title}}
                    </a>
                    </td>
                    <td class="text-success bg-transparent">{{blog.city_name}}</td>
                    <td>{{blog.countries_name}}</td>
                </tr>
                    {% endfor %}
                {% endif %}
                </tbody>
            </table>
        </div>

        <div class="col-md-6">
        <h3 class="bg-info text-center" style="border-radius: 10px;">财经 Blogs</h3>
            <table class="table table-striped table-hover radius-1">
                <thead>
                    <tr class="table-primary">
                        <td>标题</td>
                        <td>位置</td>
                        <td class="text-center">图像</td>
                    </tr>
                </thead>
                <tbody>
                    {% if type_b_blogs %}
                        {% for blog in type_b_blogs %}
                    <tr>
                        <td><a href="/blog_detail/{{blog.id}}" class="text-decoration-none truncate-6">
                            {{blog.blog_title}}
                        </a>
                        </td>
                        <td class="text-success bg-transparent">{{blog.city_name}}</td>
                        <td>{{blog.countries_name}}</td>
                    </tr>
                        {% endfor %}
                    {% endif %}
                </tbody>
            </table>
        </div>
    </div>

    <div class="row">
        <div class="col-md-6">
        <h3 class="bg-info text-center" style="border-radius: 10px;">实事 Blogs</h3>
            <table class="table table-striped table-hover radius-1">
                <thead>
                    <tr class="table-primary">
                        <td>标题</td>
                        <td>位置</td>
                        <td class="text-center">国家</td>
                    </tr>
                </thead>
                <tbody>
                {% if type_c_blogs %}
                    {% for blog in type_c_blogs  %}
                <tr>
                    <td class="text-info">
                    <a href="/blog_detail/{{blog.id}}" class="text-decoration-none truncate-6">
                        {{blog.blog_title}}
                    </a>
                    </td>
                    <td class="text-success bg-transparent">{{blog.city_name}}</td>
                    <td>{{blog.countries_name}}</td>
                </tr>
                    {% endfor %}
                {% endif %}
                </tbody>
            </table>
        </div>

        <div class="col-md-6">
        <h3 class="bg-info text-center" style="border-radius: 10px;">阅读 Blogs</h3>
            <table class="table table-striped table-hover radius-1">
                <thead>
                    <tr class="table-primary">
                        <td>标题</td>
                        <td>位置</td>
                        <td class="text-center">图像</td>
                    </tr>
                </thead>
                <tbody>
                    {% if type_d_blogs %}
                        {% for blog in type_d_blogs %}
                    <tr>
                        <td><a href="/blog_detail/{{blog.id}}" class="text-decoration-none truncate-6">
                            {{blog.blog_title}}
                        </a>
                        </td>
                        <td class="text-success bg-transparent">{{blog.city_name}}</td>
                        <td>{{blog.countries_name}}</td>
                    </tr>
                        {% endfor %}
                    {% endif %}
                </tbody>
            </table>
        </div>
    </div>

    <div class="row">
        <div class="col-md-6">
        <h3 class="bg-info text-center" style="border-radius: 10px;">风景 Blogs</h3>
            <table class="table table-striped table-hover radius-1">
                <thead>
                    <tr class="table-primary">
                        <td>标题</td>
                        <td>位置</td>
                        <td class="text-center">国家</td>
                    </tr>
                </thead>
                <tbody>
                {% if type_e_blogs %}
                    {% for blog in type_e_blogs  %}
                <tr>
                    <td class="text-info">
                    <a href="/blog_detail/{{blog.id}}" class="text-decoration-none truncate-6">
                        {{blog.blog_title}}
                    </a>
                    </td>
                    <td class="text-success bg-transparent">{{blog.city_name}}</td>
                    <td>{{blog.countries_name}}</td>
                </tr>
                    {% endfor %}
                {% endif %}
                </tbody>
            </table>
        </div>

        <div class="col-md-6">
        <h3 class="bg-info text-center" style="border-radius: 10px;">商品 Blogs</h3>
            <table class="table table-striped table-hover radius-1">
                <thead>
                    <tr class="table-primary">
                        <td>标题</td>
                        <td>位置</td>
                        <td class="text-center">图像</td>
                    </tr>
                </thead>
                <tbody>
                    {% if type_f_blogs %}
                        {% for blog in type_f_blogs %}
                    <tr>
                        <td><a href="/blog_detail/{{blog.id}}" class="text-decoration-none truncate-6">
                            {{blog.blog_title}}
                        </a>
                        </td>
                        <td class="text-success bg-transparent">{{blog.city_name}}</td>
                        <td>{{blog.countries_name}}</td>
                    </tr>
                        {% endfor %}
                    {% endif %}
                </tbody>
            </table>
        </div>
    </div>
</div>
<p class="text-align:center">已到底了<strong><a href="#group-six-next">返回</a></strong></p>
{% endblock %}

</body>
</html>